/* ==========================================================================
   SCC CLI Documentation - Nordic Enhancement Layer
   Enhances starlight-theme-galaxy with Scandinavian warmth
   Strategy: Override colors/typography, preserve Galaxy component logic
   ========================================================================== */

@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&display=swap');

/* ==========================================================================
   TYPOGRAPHY SYSTEM
   ========================================================================== */
:root {
  --font-display: 'Fraunces', Georgia, serif;
  --font-body: 'DM Sans', system-ui, sans-serif;
  --sl-font: var(--font-body);

  /* Content sizing */
  --sl-content-width: 54rem;
  --sl-text-h1: 2.75rem;
  --sl-text-h2: 1.875rem;
  --sl-text-h3: 1.375rem;
  --sl-line-height: 1.7;
}

/* ==========================================================================
   LIGHT MODE - Warm Nordic Palette
   ========================================================================== */
:root[data-theme='light'] {
  /* Core accent - Sage green */
  --sl-color-accent-low: #d9ebe5;
  --sl-color-accent: #3d7a6a;
  --sl-color-accent-high: #2a5a4d;
  --sl-color-text-accent: #2f6656;

  /* Backgrounds - Warm cream tones */
  --sl-color-bg: #faf8f5;
  --sl-color-bg-sidebar: #f4f1ec;
  --sl-color-bg-nav: rgba(250, 248, 245, 0.95);

  /* Gray scale with warm undertones */
  --sl-color-gray-1: #1c1c1c;
  --sl-color-gray-2: #404040;
  --sl-color-gray-3: #6b6b6b;
  --sl-color-gray-4: #c9c5be;
  --sl-color-gray-5: #e8e4dc;
  --sl-color-gray-6: #f4f1ec;
  --sl-color-white: #1c1c1c;
  --sl-color-black: #faf8f5;
  --sl-color-hairline-light: #d9d5cc;

  /* Galaxy theme color integration */
  --galaxy-card-glass-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.92) 0%, rgba(255, 255, 255, 0.8) 100%);
  --galaxy-card-glass-bg-light: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
  --galaxy-card-border: 1px solid rgba(0, 0, 0, 0.06);
  --galaxy-card-border-light: 1px solid rgba(0, 0, 0, 0.06);
  --galaxy-card-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  --galaxy-card-shadow-light: 0 1px 3px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  --galaxy-card-shadow-hover: 0 8px 24px rgba(61, 122, 106, 0.1), 0 4px 12px rgba(0, 0, 0, 0.04);
  --galaxy-card-shadow-hover-light: 0 8px 24px rgba(61, 122, 106, 0.1), 0 4px 12px rgba(0, 0, 0, 0.04);

  /* Galaxy title gradients */
  --galaxy-title-gradient: linear-gradient(135deg, #1c1c1c 0%, #2f6656 100%);
  --galaxy-accent-highlight: linear-gradient(90deg, transparent, rgba(61, 122, 106, 0.25), transparent);
  --galaxy-accent-highlight-hover: linear-gradient(90deg, transparent, rgba(61, 122, 106, 0.6), transparent);

  /* Galaxy button styles */
  --galaxy-button-primary-gradient: linear-gradient(135deg, #3d7a6a 0%, #2a5a4d 100%);
  --galaxy-button-primary-gradient-hover: linear-gradient(135deg, #2a5a4d 0%, #3d7a6a 100%);
  --galaxy-button-shadow-primary: 0 4px 12px rgba(61, 122, 106, 0.25);
  --galaxy-button-shadow-primary-hover: 0 6px 20px rgba(61, 122, 106, 0.35);

  /* Galaxy tabs */
  --galaxy-tabs-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 245, 240, 0.85) 100%);
  --galaxy-tabs-border: 1px solid rgba(0, 0, 0, 0.06);
  --galaxy-tabs-shadow: 0 2px 8px rgba(0, 0, 0, 0.03), 0 4px 16px rgba(0, 0, 0, 0.02);
  --galaxy-tablist-bg: rgba(0, 0, 0, 0.02);
  --galaxy-tablist-border: 1px solid rgba(0, 0, 0, 0.04);
  --galaxy-tab-bg-hover: rgba(61, 122, 106, 0.06);
  --galaxy-tab-text-active: #2a5a4d;
  --galaxy-tab-border-active: #3d7a6a;
  --galaxy-tab-icon-active: #3d7a6a;

  /* Hero background */
  --hero-bg: linear-gradient(160deg, #faf8f5 0%, #efe9df 30%, #d9ebe5 60%, #f4f1ec 100%);
}

/* ==========================================================================
   DARK MODE - Nordic Night
   ========================================================================== */
:root,
:root[data-theme='dark'] {
  /* Core accent - Luminous sage */
  --sl-color-accent-low: #1a3530;
  --sl-color-accent: #5ea894;
  --sl-color-accent-high: #8fd4c0;
  --sl-color-text-accent: #6fbda8;

  /* Backgrounds - Deep charcoal */
  --sl-color-bg: #111111;
  --sl-color-bg-sidebar: #0c0c0c;
  --sl-color-bg-nav: rgba(17, 17, 17, 0.95);

  /* Gray scale */
  --sl-color-gray-1: #f0f0f0;
  --sl-color-gray-2: #c8c8c8;
  --sl-color-gray-3: #888888;
  --sl-color-gray-4: #3a3a3a;
  --sl-color-gray-5: #1e1e1e;
  --sl-color-gray-6: #111111;
  --sl-color-white: #f0f0f0;
  --sl-color-black: #111111;
  --sl-color-hairline-light: #2a2a2a;

  /* Galaxy theme color integration */
  --galaxy-card-glass-bg: linear-gradient(145deg, rgba(28, 28, 28, 0.9) 0%, rgba(20, 20, 20, 0.85) 100%);
  --galaxy-card-border: 1px solid rgba(255, 255, 255, 0.06);
  --galaxy-card-shadow: 0 2px 8px rgba(0, 0, 0, 0.2), 0 4px 16px rgba(0, 0, 0, 0.15);
  --galaxy-card-shadow-hover: 0 8px 32px rgba(94, 168, 148, 0.12), 0 4px 16px rgba(0, 0, 0, 0.2);

  /* Galaxy title gradients */
  --galaxy-title-gradient: linear-gradient(135deg, #f0f0f0 0%, #8fd4c0 100%);
  --galaxy-accent-highlight: linear-gradient(90deg, transparent, rgba(94, 168, 148, 0.3), transparent);
  --galaxy-accent-highlight-hover: linear-gradient(90deg, transparent, rgba(94, 168, 148, 0.6), transparent);

  /* Galaxy button styles */
  --galaxy-button-primary-gradient: linear-gradient(135deg, #5ea894 0%, #4a8a7a 100%);
  --galaxy-button-primary-gradient-hover: linear-gradient(135deg, #4a8a7a 0%, #5ea894 100%);
  --galaxy-button-shadow-primary: 0 4px 12px rgba(94, 168, 148, 0.2);
  --galaxy-button-shadow-primary-hover: 0 6px 20px rgba(94, 168, 148, 0.3);

  /* Galaxy tabs */
  --galaxy-tabs-bg: linear-gradient(145deg, rgba(28, 28, 28, 0.9) 0%, rgba(20, 20, 20, 0.85) 100%);
  --galaxy-tabs-border: 1px solid rgba(255, 255, 255, 0.06);
  --galaxy-tabs-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), 0 4px 16px rgba(0, 0, 0, 0.1);
  --galaxy-tablist-bg: rgba(255, 255, 255, 0.03);
  --galaxy-tablist-border: 1px solid rgba(255, 255, 255, 0.04);
  --galaxy-tab-bg-hover: rgba(94, 168, 148, 0.1);
  --galaxy-tab-text-active: #8fd4c0;
  --galaxy-tab-border-active: #5ea894;
  --galaxy-tab-icon-active: #5ea894;

  /* Hero background */
  --hero-bg: linear-gradient(160deg, #111111 0%, #151c1a 30%, #1a2825 60%, #111111 100%);
}

/* ==========================================================================
   TYPOGRAPHY ENHANCEMENT
   ========================================================================== */
html {
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Headings with serif elegance */
h1, h2, h3,
.sl-markdown-content h1,
.sl-markdown-content h2,
.sl-markdown-content h3,
[data-page-title] {
  font-family: var(--font-display) !important;
  font-weight: 600 !important;
  letter-spacing: -0.025em;
}

/* Section headers with subtle divider */
.sl-markdown-content h2 {
  margin-top: 2.25rem !important;
  padding-bottom: 1rem !important;
  border-bottom: 1px solid var(--sl-color-gray-5);
}

/* Critical: Add spacing AFTER the heading wrapper to create gap between underline and content */
.sl-markdown-content .sl-heading-wrapper.level-h2 {
  margin-bottom: 2rem !important;
  padding-bottom: 0 !important;
}

/* Double ensure spacing on content after headings */
.sl-markdown-content .sl-heading-wrapper.level-h2 + p,
.sl-markdown-content .sl-heading-wrapper.level-h2 + ul,
.sl-markdown-content .sl-heading-wrapper.level-h2 + ol,
.sl-markdown-content .sl-heading-wrapper.level-h2 + div,
.sl-markdown-content .sl-heading-wrapper.level-h2 + .card-grid {
  margin-top: 0.5rem !important;
}

/* ==========================================================================
   HERO ENHANCEMENT
   ========================================================================== */
[data-has-hero] .page {
  background: var(--hero-bg) !important;
}

[data-page-title] {
  font-size: clamp(2.25rem, 4.5vw, 3.25rem) !important;
  line-height: 1.15 !important;
}

/* Hero buttons - pill shape */
.hero .actions .action {
  border-radius: 100px !important;
}

/* ==========================================================================
   CARD ENHANCEMENTS
   ========================================================================== */
/* Card titles with display font */
.card .title,
article.card .title,
.sl-link-card .title {
  font-family: var(--font-display) !important;
  font-weight: 600 !important;
}

/* Card icon refinements */
article.card .icon {
  background-color: var(--sl-color-accent-low) !important;
  color: var(--sl-color-accent) !important;
}

/* Reduce spacing after card grids */
.sl-markdown-content .card-grid,
.sl-markdown-content .card-grid.stagger {
  margin-bottom: 0 !important;
}

/* Reduce h2 top margin after card grids (h2 is wrapped in .sl-heading-wrapper) */
.sl-markdown-content .card-grid + .sl-heading-wrapper,
.sl-markdown-content .card-grid.stagger + .sl-heading-wrapper {
  margin-top: 1.5rem !important;
}

.sl-markdown-content .card-grid + .sl-heading-wrapper h2,
.sl-markdown-content .card-grid.stagger + .sl-heading-wrapper h2 {
  margin-top: 0 !important;
}

/* ==========================================================================
   STEPS COMPONENT SPACING FIX
   ========================================================================== */
/* Add generous breathing room between h2 heading underline and steps */
.sl-markdown-content h2 + .sl-steps,
.sl-markdown-content h2 + ol.sl-steps {
  margin-top: 2.5rem !important;
}

.sl-steps {
  margin-top: 2rem !important;
  padding-top: 0.5rem !important;
}

.sl-steps > li {
  padding-left: 3.5rem !important;  /* More space from line/number to text */
  margin-bottom: 1.5rem !important;  /* More space between steps */
}

.sl-steps > li::before {
  left: 0 !important;  /* Ensure number badge stays at left edge */
}

.sl-steps > li:not(:last-child)::after {
  left: 0.9rem !important;  /* Center line under the number badge */
  top: 2.25rem !important;  /* Start line below the number badge */
}

/* ==========================================================================
   TABLE ENHANCEMENT
   ========================================================================== */
/* Add more space between h2 underline and following content */
.sl-markdown-content h2 {
  margin-bottom: 1.75rem;
}

.sl-markdown-content h2 + table,
.sl-markdown-content h2 + .table-wrapper,
.sl-markdown-content h2 + div > table {
  margin-top: 0.5rem;
}

.sl-markdown-content table {
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--sl-color-gray-5);
}

.sl-markdown-content th {
  background: var(--sl-color-gray-5);
  font-weight: 600;
  font-size: 0.8125rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--sl-color-gray-3);
}

.sl-markdown-content td {
  border-top: 1px solid var(--sl-color-gray-5);
}

.sl-markdown-content td:not(:first-child) {
  text-align: center;
}

/* ==========================================================================
   CODE BLOCK REFINEMENT
   ========================================================================== */
.expressive-code {
  --ec-brdRad: 0.75rem;
}

/* ==========================================================================
   ASIDE ENHANCEMENT
   ========================================================================== */
.starlight-aside {
  border-radius: 0.75rem;
  border-left-width: 3px;
}

.starlight-aside .starlight-aside__title {
  font-family: var(--font-display);
  font-weight: 600;
}

/* ==========================================================================
   BADGE REFINEMENT
   ========================================================================== */
.sl-badge {
  border-radius: 100px;
  font-weight: 600;
  font-size: 0.6875rem;
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.sl-badge.success {
  background: #059669 !important;
  color: white !important;
  border: none !important;
}

/* ==========================================================================
   SIDEBAR ACTIVE STATE
   ========================================================================== */
.sidebar-content a[aria-current='page'] {
  background: var(--sl-color-accent-low);
  color: var(--sl-color-text-accent);
  font-weight: 500;
  border-left: 3px solid var(--sl-color-accent);
  border-radius: 0.375rem;
  margin-left: -3px;
  padding-left: calc(0.75rem - 3px);
}

/* ==========================================================================
   LINK STYLING
   ========================================================================== */
.sl-markdown-content a:not(.sl-link-card):not(.card):not([role="tab"]) {
  color: var(--sl-color-text-accent);
  text-decoration: underline;
  text-decoration-color: var(--sl-color-accent-low);
  text-underline-offset: 0.15em;
  transition: text-decoration-color 0.15s ease;
}

.sl-markdown-content a:not(.sl-link-card):not(.card):not([role="tab"]):hover {
  text-decoration-color: var(--sl-color-accent);
}

/* ==========================================================================
   SEARCH BUTTON
   ========================================================================== */
site-search button {
  border-radius: 100px;
}

/* ==========================================================================
   FOCUS STATES
   ========================================================================== */
:focus-visible {
  outline: 2px solid var(--sl-color-accent);
  outline-offset: 2px;
}

/* ==========================================================================
   SELECTION
   ========================================================================== */
::selection {
  background: var(--sl-color-accent-low);
  color: var(--sl-color-gray-1);
}

/* ==========================================================================
   SCROLLBAR (Dark mode)
   ========================================================================== */
:root[data-theme='dark'] {
  scrollbar-color: var(--sl-color-gray-4) transparent;
  scrollbar-width: thin;
}

/* ==========================================================================
   RESPONSIVE
   ========================================================================== */
@media (max-width: 768px) {
  :root {
    --sl-text-h1: 2rem;
    --sl-text-h2: 1.5rem;
  }

  [data-page-title] {
    font-size: 1.875rem !important;
  }
}
